{"componentChunkName":"component---src-templates-blog-template-js","path":"/blog/i18n-with-angular-6","result":{"data":{"markdownRemark":{"html":"<p>I always worked with <a href=\"https://github.com/ngx-translate\">ngx-translate</a>  a fantastic library that help you a lot to translate your angular applications.</p>\n<p>However today, after Angular 6 and the new cli has been released, I decided to give a try to i18n. At the beginning I struggled a bit to make everything working correctly but, thanks to <a href=\"https://twitter.com/OCombe\">@ocombe</a> , I easily create a good Proof Of Concept to start on.</p>\n<p>I try to summarize the steps that you need to perform to make it working:</p>\n<p><strong>Requirements:</strong> - node >= 8 - angular/@cli 6.0.1</p>\n<p>The first step we need to perform is to install/upgrade <a href=\"https://github.com/angular/angular-cli/wiki/1-x-stories-1.0-update\">angular/@cli</a></p>\n<p><strong>npm install -g @angular/cli@latest</strong></p>\n<p>then we can generate our new project:</p>\n<p><strong>ng new translations-prj</strong></p>\n<p>You'll be surprised how fast it's now to install all the dependencies ;)</p>\n<p>Now that our project is ready to use open the app.component.html in src/app, remove the entire content and just add:</p>\n<p>-----------</p>\n<div> <h1 i18n>Hello</h1> </div>\n<p>-----------</p>\n<p>The only \"weird\" part is `<strong>i18n</strong>` that tell angular to translate the word Hello.</p>\n<p>In the terminal we can run now:</p>\n<p><strong>ng xi18n --i18n-locale en</strong></p>\n<p>this will generate a file called: <strong>message.xlf.</strong></p>\n<p>In case you prefer to generate the translation file with another name, add the option:  <strong>--out-file source.xlf.</strong></p>\n<p>Inside <strong>src</strong> create a new folder called **locale, **copy the file message.xlf and rename to:</p>\n<p><strong>messages.fr.xlf</strong></p>\n<p>Do not change anything inside but after the source tag add:</p>\n<source>Hello World</source>\n<p>**   <target>Bonjour!</target>**</p>\n<p>....</p>\n</source>\n<p>Now that we got the French one we can try to add another language and of course I decided to create the Italian one ;).</p>\n<p>Inside the same folder (<strong>locale) **copy **messages.fr.xlf</strong> and create:</p>\n<ul>\n<li><strong>messages.it.xlf</strong></li>\n</ul>\n<p>This time we just need to change the translation:</p>\n<p><strong><target>Buongiorno</target></strong></p>\n<p>We almost done the last step is the <strong>angular.json</strong> file (I can say the trickiest part)</p>\n<p>[gist id=\"77f7c47b5455f178aa09468d74982762\"]</p>\n<p>(<a href=\"https://gist.github.com/daniele-zurico/77f7c47b5455f178aa09468d74982762\">https://gist.github.com/daniele-zurico/77f7c47b5455f178aa09468d74982762</a>)</p>\n<p>You'll see there 2 changes from the basic file generated by the cli under:</p>\n<ul>\n<li>build > configurations</li>\n<li>serve > configuration.</li>\n</ul>\n<p>Copy them and now you can see the final result just running:</p>\n<p><strong>ng serve --configuration=it</strong> or <strong>ng serve --configuration=fr</strong></p>\n<p>If you need a <strong>production</strong> build: <strong>ng build --configuration=fr</strong> or <strong>ng build --configuration=it</strong></p>\n<p>for more specific use cases refer to the <a href=\"https://angular.io/guide/i18n\">angular documentation</a></p>\n<p>Last matter to talk about is runtime translations....is <strong>i18n</strong> ready for that? No unfortunately, but looks like that it will be ready for v7.</p>\n<p>@Update</p>\n<p>What about if I want to translate an attribute? No worries it's quite easy to do. Lets' say that we have an href and we want to translate it so what we'll do is:</p>\n<p><code>&#x3C;a **i18n ****18n-href** href=\"tel: callCentreNumberFormated\">callCentreNumber&#x3C;/a></code></p>\n<p>So in this case :</p>\n<ol>\n<li><strong>i18n</strong> will translate <strong>callCentreNumber</strong></li>\n<li><strong>18n-href</strong>  will translate <strong>tel: callCentreNumberFormated</strong></li>\n</ol>\n<p>having as result (based on your translation) something like that:</p>\n<p><code>&#x3C;a _ngcontent-c0=\"\" href=\"tel: xxxxxxxx\">xxx xxx xxxx&#x3C;/a></code></p>\n<p>If you want to avoid to autogenerate the id for you and provide a description we can do something like that:</p>\n<p><code>&#x3C;a i18n=\"Display the callCentreNumber@@callCenterNumber\" i18n-href=\"Format the callCentreNumber for a link@@callCentreNumberFormated\" href=\"tel: callCentreNumberFormated\">callCentreNumber&#x3C;/a></code></p>\n<p>where:</p>\n<ol>\n<li>\"Format the callCentreNumber for a link\" = <strong>description</strong></li>\n<li>\"callCentreNumberFormated\" = <strong>id</strong></li>\n</ol>\n<p>and this technique works for any attribute of any element :)</p>\n<p>If you enjoyed this post follow me on twitter <a href=\"https://twitter.com/DZurico\">@Dzurico</a></p>","frontmatter":{"date":"May 15, 2018","path":"/blog/i18n-with-angular-6","title":"i18n with Angular 6+","featuredImage":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAQABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAEDBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAe5ZTMH/xAAXEAADAQAAAAAAAAAAAAAAAAAAAQIQ/9oACAEBAAEFApFkiz//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAY/Al//xAAZEAACAwEAAAAAAAAAAAAAAAAAARExQSH/2gAIAQEAAT8h0NLHbNE56O2f/9oADAMBAAIAAwAAABAAD//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABsQAQADAAMBAAAAAAAAAAAAAAEAESFhcaHB/9oACAEBAAE/ELBUtyMmr3WT1M+c0arkZ6Gf/9k=","aspectRatio":1.2578616352201257,"src":"/daniele-zurico.github.io/static/270fe8faed1ba76c495436f6f12e454a/722c4/hola.jpg","srcSet":"/daniele-zurico.github.io/static/270fe8faed1ba76c495436f6f12e454a/f836f/hola.jpg 200w,\n/daniele-zurico.github.io/static/270fe8faed1ba76c495436f6f12e454a/722c4/hola.jpg 340w","sizes":"(max-width: 340px) 100vw, 340px"}}}}}},"pageContext":{}},"staticQueryHashes":["1135375505","1135375505","3206378567"]}